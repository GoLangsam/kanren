package Âµ

// Bind is the monad bind function for goals.
func (g Goal) Bind(s StreamOfStates) StreamOfStates {
	if s == nil {
		return Zero()
	}

	head, ok := s.Head()
	if !ok {
		return Zero()
	}

	if head == nil { // a suspension => procedure? == true
		return Suspend(func() StreamOfStates {
			return s.Bind(g)
		})
	}
	{
		return g(head).Plus(
            s.Bind(g),
            )
	}
}
